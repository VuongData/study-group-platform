@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

/* --- BI·∫æN M√ÄU S·∫ÆC --- */
$primary: #2563eb;
$danger: #ef4444;
$warning: #f59e0b;
$success: #22c55e;
$text-dark: #1e293b;
$text-gray: #64748b;
$bg-light: #f8fafc;
$border: #e2e8f0;

.deadline-view-container {
  padding: 20px;
  font-family: 'Inter', sans-serif;
  background: #fff;
  min-height: 100%;

  /* --- PH·∫¶N 1: KHU V·ª∞C CH·ªú DUY·ªÜT --- */
  .approval-section {
    background: #fffbeb;
    border: 1px solid #fcd34d;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 30px;

    h4 {
      margin: 0 0 15px 0;
      color: #b45309;
      display: flex; align-items: center; gap: 8px; font-size: 1.1rem;
    }

    .task-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 15px;

      .approval-card {
        background: #fff;
        border: 1px solid #fcd34d;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        display: flex; flex-direction: column; gap: 12px;
        
        /* Tr·∫°ng th√°i readonly (Task c·ªßa ng∆∞·ªùi kh√°c) */
        &.readonly {
          background: #fdfdfd;
          border-color: #e2e8f0;
          border-style: dashed;
          opacity: 0.9;
        }

        .info {
          display: flex; flex-direction: column; gap: 4px;
          strong { color: $text-dark; font-size: 0.95rem; }
          .assignee-badge {
            display: inline-block;
            background: #e0f2fe; color: #0369a1;
            padding: 2px 6px; border-radius: 4px;
            font-size: 0.75rem; font-weight: 600; width: fit-content;
          }
          span { font-size: 0.8rem; color: $text-gray; }
        }

        .actions {
          display: flex; gap: 8px; margin-top: auto;
          
          button {
            flex: 1; padding: 8px; border: none; border-radius: 6px; cursor: pointer;
            font-size: 0.85rem; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 5px;
            &.btn-reject { background: #fee2e2; color: $danger; }
            &.btn-approve { background: $primary; color: white; }
            &:hover { opacity: 0.9; }
          }

          .waiting-status {
            width: 100%; display: flex; align-items: center; justify-content: center; gap: 6px;
            font-size: 0.8rem; color: $warning; font-weight: 600;
            padding: 8px; background: #fff7ed; border-radius: 6px; border: 1px dashed #fdba74;
            .spin-slow { animation: spin 3s linear infinite; }
          }
        }
      }
    }
  }

  /* --- PH·∫¶N 2: DANH S√ÅCH TASK --- */
  .approved-lists {
    display: flex; flex-direction: column; gap: 20px;

    .list-group {
      h5 {
        margin: 0 0 10px 0; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.5px;
        border-bottom: 2px solid; display: inline-block; padding-bottom: 2px;
      }
      &.danger h5 { color: $danger; border-color: $danger; }
      &.warning h5 { color: $warning; border-color: $warning; }
      &.primary h5 { color: $primary; border-color: $primary; }
      &.success h5 { color: $success; border-color: $success; }

      .task-card-simple {
        display: flex; align-items: center; gap: 12px;
        background: #fff;
        border: 1px solid $border;
        border-radius: 8px;
        padding: 12px 15px;
        margin-bottom: 8px;
        transition: all 0.2s;

        /* üëá STYLE QUAN TR·ªåNG: Disable khi kh√¥ng ph·∫£i owner */
        &.disabled-card {
          background: #f8fafc; /* X√°m nh·∫°t */
          border-style: dashed;
          opacity: 0.7;
          cursor: default;

          button.not-allowed {
             cursor: not-allowed;
             color: #cbd5e1; /* Checkbox m·ªù ƒëi */
             &:hover { transform: none; color: #cbd5e1; }
          }
        }

        &:not(.disabled-card):hover { 
          border-color: $primary; 
          transform: translateX(4px);
        }

        button {
          background: none; border: none; cursor: pointer; padding: 0;
          display: flex; align-items: center; color: #cbd5e1;
          &.done { color: $success; }
          &:not(.not-allowed):hover { transform: scale(1.1); }
        }

        .t-content {
          display: flex; flex-direction: column;
          .t-title { 
            font-size: 0.95rem; color: $text-dark; font-weight: 500; 
            .list-group.success & { text-decoration: line-through; color: $text-gray; }
          }
          .t-owner { font-size: 0.75rem; color: #64748b; }
        }
      }
    }
  }
}

@keyframes spin { 100% { transform: rotate(360deg); } }